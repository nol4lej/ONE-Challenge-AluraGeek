"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkchallenge_alurageek"] = self["webpackChunkchallenge_alurageek"] || []).push([["src_components_addproduct-form_js"],{

/***/ "./src/components/addproduct-form.js":
/*!*******************************************!*\
  !*** ./src/components/addproduct-form.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddProductForm: () => (/* binding */ AddProductForm)\n/* harmony export */ });\n/* harmony import */ var _controllers_products_manage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/products-manage.js */ \"./src/controllers/products-manage.js\");\n\r\nconst { v4: uuidv4 } = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/commonjs-browser/index.js\");\r\n\r\nclass AddProductForm extends HTMLElement{\r\n\r\n    constructor(){\r\n        super()\r\n    }\r\n\r\n    connectedCallback(){\r\n        this.render()\r\n        this.handleEvent()\r\n    }\r\n\r\n    render(){\r\n        this.innerHTML = `\r\n        <section class=\"addform__container\">\r\n            <div class=\"add__title\">\r\n                <h2>Agregar nuevo producto</h2>\r\n                <a href=\"\" class=\"add__back\"><i class=\"material-icons\">arrow_back</i>Volver</a>\r\n            </div>\r\n            <form id=\"addproduct-form\" class=\"add__form\">\r\n                <div class=\"add__img\">\r\n                    <label for=\"\" class=\"img__label\">URL de la imagen</label>\r\n                    <input type=\"text\" id=\"img-input\" class=\"img__input\">\r\n                </div>\r\n                <div class=\"add__name\">\r\n                <label for=\"\" class=\"name__label\">Nombre del producto</label>\r\n                    <input type=\"text\" id=\"name-input\" class=\"name__input\">\r\n                </div>\r\n                <div class=\"add__category\">\r\n                    <label for=\"\" class=\"categoria__label\">Categoría</label>\r\n                    <select id=\"categoria\" class=\"categoria__input\">\r\n                        <option value=\"starwars\">Star Wars</option>\r\n                        <option value=\"consola\">Consola</option>\r\n                        <option value=\"otros\">Otros</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"add__price\">\r\n                    <label for=\"\" class=\"price__label\">Precio del producto</label>\r\n                    <p class=\"container__number\">$<input type=\"number\" id=\"price-input\" class=\"price__input\"></p>\r\n                </div>\r\n                <div class=\"add__description\">\r\n                    <label for=\"\" class=\"description__label\">Descripción del producto</label>\r\n                    <input type=\"text\" id=\"description-input\" class=\"description__input\">\r\n                </div>\r\n                <button type=\"submit\" class=\"add__btn\">Agregar producto</button>\r\n            </form>\r\n            <span id=\"message\"></span>\r\n        </section>\r\n\r\n        `;\r\n    }\r\n\r\n    handleEvent(){\r\n        const form = this.querySelector(\"#addproduct-form\")\r\n        form.addEventListener(\"submit\", this.onSubmit.bind(this))\r\n    }\r\n\r\n    onSubmit(event){\r\n        event.preventDefault()\r\n        const img = document.getElementById(\"img-input\")\r\n        const name = document.getElementById(\"name-input\")\r\n        const category = document.getElementById(\"categoria\")\r\n        const price = document.getElementById(\"price-input\")\r\n        const description = document.getElementById(\"description-input\")\r\n\r\n        const data =  {\r\n            imageUrl: img.value,\r\n            name: name.value,\r\n            category: category.value,\r\n            price: price.value,\r\n            description: description.value, \r\n            id: uuidv4()\r\n        }\r\n        this.handleAdd(data)\r\n    }\r\n\r\n    async handleAdd(data){\r\n        const message = document.getElementById(\"message\")\r\n        try {\r\n            await _controllers_products_manage_js__WEBPACK_IMPORTED_MODULE_0__.products.addProduct(data)\r\n            message.innerHTML = `Producto creado correctamente.`\r\n        } catch (error) {\r\n            message.innerHTML = `No se pudo agregar el producto`\r\n        }\r\n    }\r\n\r\n}\r\n\r\ncustomElements.define(\"addproduct-form\", AddProductForm)\n\n//# sourceURL=webpack://challenge-alurageek/./src/components/addproduct-form.js?");

/***/ })

}]);