/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkalurageek"] = self["webpackChunkalurageek"] || []).push([["src_components_nav_nav_js"],{

/***/ "./src/img/logo.png":
/*!**************************!*\
  !*** ./src/img/logo.png ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"data:image/png;base64,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\");\n\n//# sourceURL=webpack://alurageek/./src/img/logo.png?");

/***/ }),

/***/ "./src/components/nav/nav.js":
/*!***********************************!*\
  !*** ./src/components/nav/nav.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavBar: () => (/* binding */ NavBar)\n/* harmony export */ });\n/* harmony import */ var _img_logo_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../img/logo.png */ \"./src/img/logo.png\");\n/* harmony import */ var _observables_users_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../observables/users.js */ \"./src/observables/users.js\");\n/* harmony import */ var _state_state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../state/state.js */ \"./src/state/state.js\");\n\r\n\r\n\r\n\r\nclass NavBar extends HTMLElement{\r\n\r\n    constructor(){\r\n        super();\r\n    };\r\n\r\n    connectedCallback(){\r\n        this.render();\r\n        this.handleActiveUser()\r\n    };\r\n\r\n    render(){\r\n        this.innerHTML = `\r\n            <nav class=\"nav\">\r\n                <div class=\"nav__logo__search\">\r\n                    <div class=\"nav__logo\">\r\n                    <a href=\"#\"><img src=\"${_img_logo_png__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}\" alt=\"Logo\" class=\"nav__img\"></a>\r\n                        \r\n                    </div>\r\n                    <div class=\"nav__search\">\r\n                        <input class=\"search__input\" type=\"text\" placeholder=\"¿Qué deseas buscar?\">\r\n                        <button class=\"material-icons search__button\">search</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"nav__buttons\">\r\n                    <ul class=\"buttons__list\" id=\"buttons\">\r\n                        <li><a href=\"#/login\" class=\"buttons__item\">Login</a></li>\r\n                        <li><a href=\"#/register\" class=\"buttons__item\">Register</a></li>\r\n                    </ul>\r\n                </div>\r\n\r\n            </nav>\r\n        `;\r\n    };\r\n\r\n    handleActiveUser(){\r\n        _observables_users_js__WEBPACK_IMPORTED_MODULE_1__.user.subscribe((data) => {\r\n            const buttons = this.querySelector(\"#buttons\")\r\n            if(_state_state_js__WEBPACK_IMPORTED_MODULE_2__.state.user.length === 0){\r\n                buttons.innerHTML = `\r\n                <li><a href=\"#/login\" class=\"buttons__item\">Login</a></li>\r\n                <li><a href=\"#/register\" class=\"buttons__item\">Register</a></li>\r\n            `\r\n            } else {\r\n                this.changeButtons(buttons)\r\n            }\r\n            \r\n        })\r\n    }\r\n\r\n    changeButtons(buttons){\r\n        buttons.innerHTML = `\r\n            <li><a href=\"#/panel\" class=\"buttons__item\">Panel</a></li>\r\n            <li><a href=\"#/\" id=\"btn-logout\" class=\"buttons__item\">Logout</a></li>\r\n        `\r\n        this.handleLogout()\r\n    }\r\n\r\n    async handleLogout(){\r\n        const nav_logout = this.querySelector(\"#btn-logout\")\r\n        nav_logout.addEventListener(\"click\", async (event) => {\r\n            event.preventDefault()\r\n            try {\r\n                await _observables_users_js__WEBPACK_IMPORTED_MODULE_1__.user.logout()\r\n                window.location.href = \"#\";\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            \r\n        })\r\n    }\r\n\r\n};\r\n\r\ncustomElements.define(\"nav-component\", NavBar);\n\n//# sourceURL=webpack://alurageek/./src/components/nav/nav.js?");

/***/ }),

/***/ "./src/helpers/fetch/fetch.post.js":
/*!*****************************************!*\
  !*** ./src/helpers/fetch/fetch.post.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchPost: () => (/* binding */ fetchPost)\n/* harmony export */ });\nasync function fetchPost(url, bodyContent){\r\n    return new Promise(async (resolve, reject) => {\r\n        const res = await fetch((url), {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(bodyContent),\r\n        })\r\n        console.log(res)\r\n        if(!res.ok){\r\n            reject()\r\n        } else {\r\n            resolve()\r\n            return\r\n        }\r\n    })\r\n\r\n}\n\n//# sourceURL=webpack://alurageek/./src/helpers/fetch/fetch.post.js?");

/***/ }),

/***/ "./src/observables/users.js":
/*!**********************************!*\
  !*** ./src/observables/users.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   user: () => (/* binding */ user)\n/* harmony export */ });\n/* harmony import */ var _helpers_fetch_fetch_get_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/fetch/fetch.get.js */ \"./src/helpers/fetch/fetch.get.js\");\n/* harmony import */ var _helpers_fetch_fetch_post_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/fetch/fetch.post.js */ \"./src/helpers/fetch/fetch.post.js\");\n/* harmony import */ var _helpers_subject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/subject.js */ \"./src/helpers/subject.js\");\n/* harmony import */ var _state_state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../state/state.js */ \"./src/state/state.js\");\n\r\n\r\n\r\n\r\nconst bcrypt = __webpack_require__(/*! bcryptjs */ \"./node_modules/bcryptjs/dist/bcrypt.js\");\r\nconst { v4: uuidv4 } = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/commonjs-browser/index.js\");\r\n\r\nclass Users extends _helpers_subject_js__WEBPACK_IMPORTED_MODULE_2__.Subject{\r\n\r\n    constructor(){\r\n        super()\r\n    }\r\n\r\n    notify(user){\r\n        super.notify(user)\r\n    }\r\n\r\n    async login(inputUser, password){\r\n        return new Promise( async (resolve, reject) => {\r\n            try {\r\n                const users = await (0,_helpers_fetch_fetch_get_js__WEBPACK_IMPORTED_MODULE_0__.fetchGet)(\"https://json-server-k3m3.onrender.com/users\")\r\n                let userFound = false;\r\n\r\n                if(!users){\r\n                    // este mensaje se manda al catch\r\n                    throw (\"Debido a un problema de conectividad, no es posible iniciar sesión.\");\r\n                }\r\n\r\n                for(const user of users){\r\n                    if(inputUser === user.name || inputUser === user.email){\r\n                        const hashedPassword = user.password;\r\n                        try {\r\n                            await this.verifyPassword(password, hashedPassword)\r\n    \r\n                            const {email, id, name, role} = user\r\n                            const userLogged = {\r\n                                email: email, \r\n                                id: id, \r\n                                user: name, \r\n                                role: role\r\n                            }\r\n                            _state_state_js__WEBPACK_IMPORTED_MODULE_3__.state.user = userLogged\r\n                            this.notify(userLogged)\r\n                            userFound = true\r\n                            resolve(\"Haz iniciado sesión exitosamente.\")\r\n                            break\r\n                        } catch (error) {\r\n                            reject(error)\r\n                            return\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if(!userFound) {\r\n                    // este mensaje se manda al catch\r\n                    throw (\"El usuario no existe\");\r\n                }\r\n\r\n            } catch (error) {\r\n                // el \"error\" se manda al componente y renderiza los mensajes de error.\r\n                reject(error)\r\n            }\r\n        })\r\n    }\r\n\r\n    async verifyPassword(password, hash){\r\n        try {\r\n            const result = await bcrypt.compare(password, hash)\r\n            if(result){\r\n                return 'La contraseña es válida'\r\n            } else {\r\n                throw ('La contraseña es inválida')\r\n            }\r\n        } catch (error) {\r\n            throw error\r\n        }\r\n    }\r\n\r\n    async register(email, username, password){\r\n        try {\r\n            const newUser = {\r\n                name: username,\r\n                email: email,\r\n                password: await this.encryptPassword(password),\r\n                role: \"user\",\r\n                id: uuidv4()\r\n            }\r\n\r\n            const res = await (0,_helpers_fetch_fetch_post_js__WEBPACK_IMPORTED_MODULE_1__.fetchPost)(\"https://json-server-k3m3.onrender.com/users\", newUser)\r\n            return \"Usuario creado exitosamente.\"\r\n\r\n        } catch (error) {   \r\n            throw \"No se pudo crear un nuevo usuario.\"\r\n        }\r\n    }\r\n\r\n    encryptPassword(password){\r\n        return new Promise((resolve, reject) => {\r\n            bcrypt.genSalt(10, (error, salt) => {\r\n                bcrypt.hash(password, salt, (error, hash) => {\r\n                    if(error){\r\n                        reject(error)\r\n                    } else {\r\n                        resolve(hash)\r\n                    }\r\n                })\r\n            }) \r\n        })\r\n\r\n    }\r\n\r\n    logout(){\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                _state_state_js__WEBPACK_IMPORTED_MODULE_3__.state.user = \"\"\r\n                this.notify()\r\n                resolve()\r\n            } catch (error) {\r\n                reject(error)\r\n            }\r\n        })\r\n        \r\n    }\r\n\r\n}\r\n\r\nconst user = new Users()\n\n//# sourceURL=webpack://alurageek/./src/observables/users.js?");

/***/ }),

/***/ "?86c1":
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://alurageek/crypto_(ignored)?");

/***/ })

}]);